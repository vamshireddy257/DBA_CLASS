vi /home/oracle/rman_bkp.sh
#!/bin/bash

export ORACLE_SID=proddb
export ORACLE_HOME=/u01/app/oracle/product/19.0.0.0/dbhome_1
export DATE=$(date +%y-%m-%d_%H%M%S)
export PATH=$PATH:$ORACLE_HOME/bin

rman target / log=/u01/rman_bkp/RMAN_${DATE}.log << EOF
run
{
crosscheck archivelog all;
crosscheck backup;
delete noprompt expired backup;
delete noprompt expired archivelog all;
backup database;
backup archivelog all delete input;
delete noprompt obsolete;
}
EOF

crontab -l

1 10 * * * /home/oracle/rman_bkp.sh
