HIGH LEVEL STEPS.
source:
1 : take backup of DB including archivelogs.
2 : create pfile .
3 : scp pfile,pwdfile and rman backup to target server.

Target:
4 : modify pfile accoring to new database name.
5 : change the namings of pfile and pwdfile.
6 : create required directories.
7 : startup nomount;
8 : connect rman auxiliary.
9 : duplicate database to 'testdb' backup location '/u01/rman' nofilenamecheck;




orapwd file=$ORACLE_HOME/dbs/orapwpr password=prodDB_789 entries=3;

edit parameter file
*.audit_file_dest='/u01/app/oracle/admin/proddb/adump'
*.audit_trail='db'
*.compatible='19.0.0'
*.control_files='/u01/app/oracle/oradata/PRODDB/controlfile/o1_mf_k2tzlpys_.ctl','/u01/app/oracle/fast_recovery_area/PRODDB/controlfile/o1_mf_k2tzlq0c_.ctl'
*.db_block_size=8192
*.db_create_file_dest='/u01/app/oracle/oradata'
*.db_name='proddb'
*.db_recovery_file_dest='/u01/app/oracle/fast_recovery_area'
*.db_recovery_file_dest_size=12732m
*.diagnostic_dest='/u01/app/oracle'
*.dispatchers='(PROTOCOL=TCP) (SERVICE=proddbXDB)'
*.enable_pluggable_database=true
*.memory_target=1457m
*.open_cursors=300
*.processes=300
*.remote_login_passwordfile='EXCLUSIVE'
*.undo_tablespace='UNDOTBS1'


to...

*.audit_file_dest='/u01/app/oracle/admin/testdb/adump'
*.audit_trail='db'
*.compatible='19.0.0'
*.control_files='/u01/app/oracle/oradata/testdb/controlfile/o1_mf_k2tzlpys_.ctl','/u01/app/oracle/fast_recovery_area/testdb/controlfile/o1_mf_k2tzlq0c_.ctl'
*.db_block_size=8192
*.db_create_file_dest='/u01/app/oracle/oradata'
*.db_name='testdb'
*.db_recovery_file_dest='/u01/app/oracle/fast_recovery_area'
*.db_recovery_file_dest_size=12732m
*.diagnostic_dest='/u01/app/oracle'
*.dispatchers='(PROTOCOL=TCP) (SERVICE=testdbXDB)'
*.enable_pluggable_database=true
*.memory_target=1457m
*.open_cursors=300
*.processes=300
*.remote_login_passwordfile='EXCLUSIVE'
*.undo_tablespace='UNDOTBS1'

You need also to create the following directories on the auxiliary server and add them to the parameter file:

create directories used in pfile.



modify pfile entries with new database name.

create spfile from pfile in new environment.

startup nomount;

rman auxiliary /

duplicate database to 'testdb' backup location '/u01/rman' nofilenamecheck;

source
backup database plus archivelog;
scp inittestdb.ora oracle@testdb2.com:$ORACLE_HOME/dbs/
scp -r rman_bkp/ oracle@testdb2.com:/u01/


target:
edit parameter to new db name:

mkdir -p /u01/app/oracle/oradata/testdb/controlfile/ /u01/app/oracle/fast_recovery_area/testdb/controlfile/ /u01/app/oracle/fast_recovery_area






using active datbase:
source:
1 : create pfile .
2 : scp pfile,pwdfile to target server.

Target:
3 : modify pfile accoring to new database name.
4 : change the namings of pfile and pwdfile.
5 : create required directories.
6 : create litener and tns
7 : startup nomount;
8 : rman target sys/oracledb@to_proddb auxiliary sys/oracledb@to_testdb.
9 : duplicate target database to 'testdb' from active database nofilenamecheck;

